{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.submitFormOnCtrlEnter = submitFormOnCtrlEnter;\nexports.submitContainingForm = submitContainingForm;\nexports.isInternetExplorer = isInternetExplorer;\nexports.isElement = isElement;\nexports.getOffset = getOffset; // Submits the form on `Ctrl` + `Enter` (or `Cmd` + `Enter`).\n\nfunction submitFormOnCtrlEnter(event, component) {\n  if ((event.ctrlKey || event.metaKey) && event.keyCode === 13) {\n    if (submitContainingForm(component)) {\n      event.preventDefault();\n      return true;\n    }\n  }\n}\n\nfunction submitContainingForm(node) {\n  while (node.parentElement) {\n    node = node.parentElement;\n\n    if (node instanceof HTMLFormElement) {\n      // Won't use `node.submit()` because it bypasses `onSubmit`.\n      // Will click the submit button instead.\n      var submit = node.querySelector('button[type=submit]');\n\n      if (submit) {\n        submit.click();\n        return true;\n      }\n    }\n  }\n} // export function getScrollbarWidth()\n// {\n// \t// // `window.innerWidth` has a bug:\n// \t// // it's decreases as the page scale is increased.\n// \t// // Therefore not using it.\n// \t// // (Full width) - (Width minus scrollbar)\n// \t// return document.body.clientWidth - window.innerWidth\n//\n// \treturn 17\n// }\n// Detects Internet Explorer.\n// https://stackoverflow.com/questions/19999388/check-if-user-is-using-ie-with-jquery\n\n\nfunction isInternetExplorer() {\n  return window.navigator.userAgent.indexOf('MSIE ') > 0 || window.navigator.userAgent.indexOf('Trident/') > 0;\n} // https://stackoverflow.com/questions/384286/javascript-isdom-how-do-you-check-if-a-javascript-object-is-a-dom-object\n\n\nfunction isElement(element) {\n  return element instanceof Element || element instanceof HTMLDocument;\n}\n/**\r\n * Returns the DOM element's `top` and `left` offset relative to the document.\r\n * @param  {object} element\r\n * @return {object} `{ top: number, left: number, width: number, height: number }`\r\n */\n\n\nfunction getOffset(element) {\n  // Copied from:\n  // http://stackoverflow.com/questions/5598743/finding-elements-position-relative-to-the-document\n  var onScreenCoordinates = element.getBoundingClientRect();\n  var documentLeftBorderWidth = document.clientLeft || document.body.clientLeft || 0;\n  var documentTopBorderWidth = document.clientTop || document.body.clientTop || 0; // `window.scrollY` and `window.scrollX` aren't supported in Internet Explorer.\n\n  var scrollY = window.pageYOffset;\n  var scrollX = window.pageXOffset;\n  var top = onScreenCoordinates.top + scrollY - documentTopBorderWidth;\n  var left = onScreenCoordinates.left + scrollX - documentLeftBorderWidth;\n  return {\n    top: top,\n    left: left,\n    width: onScreenCoordinates.width,\n    height: onScreenCoordinates.height\n  };\n}","map":{"version":3,"sources":["../../source/utility/dom.js"],"names":["submitFormOnCtrlEnter","event","submitContainingForm","node","submit","isInternetExplorer","window","isElement","element","getOffset","onScreenCoordinates","documentLeftBorderWidth","document","documentTopBorderWidth","scrollY","scrollX","top","left","width","height"],"mappings":";;;;;QACgBA,qB,GAAAA,qB;QAYAE,oB,GAAAA,oB;QAgCAG,kB,GAAAA,kB;QAOAE,S,GAAAA,S;QASAE,S,GAAAA,S,EA7DhB;;AACO,SAAA,qBAAA,CAAA,KAAA,EAAA,SAAA,EACP;AACC,MAAI,CAACR,KAAAA,CAAAA,OAAAA,IAAiBA,KAAAA,CAAlB,OAAA,KAAoCA,KAAAA,CAAAA,OAAAA,KAAxC,EAAA,EACA;AACC,QAAIC,oBAAAA,CAAJ,SAAIA,CAAJ,EACA;AACCD,MAAAA,KAAAA,CAAAA,cAAAA;AACA,aAAA,IAAA;AACA;AACD;AACD;;AAEM,SAAA,oBAAA,CAAA,IAAA,EACP;AACC,SAAOE,IAAAA,CAAP,aAAA,EACA;AACCA,IAAAA,IAAAA,GAAOA,IAAAA,CAAPA,aAAAA;;AACA,QAAIA,IAAAA,YAAJ,eAAA,EACA;AACC;AACA;AACA,UAAMC,MAAAA,GAASD,IAAAA,CAAAA,aAAAA,CAAf,qBAAeA,CAAf;;AACA,UAAA,MAAA,EACA;AACCC,QAAAA,MAAAA,CAAAA,KAAAA;AACA,eAAA,IAAA;AACA;AACD;AACD;AACD,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;;AACO,SAAA,kBAAA,GACP;AACC,SAAOE,MAAAA,CAAAA,SAAAA,CAAAA,SAAAA,CAAAA,OAAAA,CAAAA,OAAAA,IAAAA,CAAAA,IACNA,MAAAA,CAAAA,SAAAA,CAAAA,SAAAA,CAAAA,OAAAA,CAAAA,UAAAA,IADD,CAAA;AAEA,C,CAED;;;AACO,SAAA,SAAA,CAAA,OAAA,EAA4B;AAClC,SAAOE,OAAAA,YAAAA,OAAAA,IAA8BA,OAAAA,YAArC,YAAA;AACA;AAED;;;;;;;AAKO,SAAA,SAAA,CAAA,OAAA,EAA4B;AAClC;AACA;AAEA,MAAME,mBAAAA,GAAsBF,OAAAA,CAA5B,qBAA4BA,EAA5B;AAEA,MAAMG,uBAAAA,GAA0BC,QAAAA,CAAAA,UAAAA,IAAuBA,QAAAA,CAAAA,IAAAA,CAAvBA,UAAAA,IAAhC,CAAA;AACA,MAAMC,sBAAAA,GAA0BD,QAAAA,CAAAA,SAAAA,IAAsBA,QAAAA,CAAAA,IAAAA,CAAtBA,SAAAA,IAAhC,CAAA,CAPkC,CASlC;;AACA,MAAME,OAAAA,GAAUR,MAAAA,CAAhB,WAAA;AACA,MAAMS,OAAAA,GAAUT,MAAAA,CAAhB,WAAA;AAEA,MAAMU,GAAAA,GAAON,mBAAAA,CAAAA,GAAAA,GAAAA,OAAAA,GAAb,sBAAA;AACA,MAAMO,IAAAA,GAAOP,mBAAAA,CAAAA,IAAAA,GAAAA,OAAAA,GAAb,uBAAA;AAEA,SAAO;AACNM,IAAAA,GAAAA,EADM,GAAA;AAENC,IAAAA,IAAAA,EAFM,IAAA;AAGNC,IAAAA,KAAAA,EAAOR,mBAAAA,CAHD,KAAA;AAINS,IAAAA,MAAAA,EAAQT,mBAAAA,CAAoBS;AAJtB,GAAP;AAMA","sourcesContent":["// Submits the form on `Ctrl` + `Enter` (or `Cmd` + `Enter`).\r\nexport function submitFormOnCtrlEnter(event, component)\r\n{\r\n\tif ((event.ctrlKey || event.metaKey) && event.keyCode === 13)\r\n\t{\r\n\t\tif (submitContainingForm(component))\r\n\t\t{\r\n\t\t\tevent.preventDefault()\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function submitContainingForm(node)\r\n{\r\n\twhile (node.parentElement)\r\n\t{\r\n\t\tnode = node.parentElement\r\n\t\tif (node instanceof HTMLFormElement)\r\n\t\t{\r\n\t\t\t// Won't use `node.submit()` because it bypasses `onSubmit`.\r\n\t\t\t// Will click the submit button instead.\r\n\t\t\tconst submit = node.querySelector('button[type=submit]')\r\n\t\t\tif (submit)\r\n\t\t\t{\r\n\t\t\t\tsubmit.click()\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// export function getScrollbarWidth()\r\n// {\r\n// \t// // `window.innerWidth` has a bug:\r\n// \t// // it's decreases as the page scale is increased.\r\n// \t// // Therefore not using it.\r\n// \t// // (Full width) - (Width minus scrollbar)\r\n// \t// return document.body.clientWidth - window.innerWidth\r\n//\r\n// \treturn 17\r\n// }\r\n\r\n// Detects Internet Explorer.\r\n// https://stackoverflow.com/questions/19999388/check-if-user-is-using-ie-with-jquery\r\nexport function isInternetExplorer()\r\n{\r\n\treturn window.navigator.userAgent.indexOf('MSIE ') > 0 ||\r\n\t\twindow.navigator.userAgent.indexOf('Trident/') > 0\r\n}\r\n\r\n// https://stackoverflow.com/questions/384286/javascript-isdom-how-do-you-check-if-a-javascript-object-is-a-dom-object\r\nexport function isElement(element) {\r\n\treturn element instanceof Element || element instanceof HTMLDocument\r\n}\r\n\r\n/**\r\n * Returns the DOM element's `top` and `left` offset relative to the document.\r\n * @param  {object} element\r\n * @return {object} `{ top: number, left: number, width: number, height: number }`\r\n */\r\nexport function getOffset(element) {\r\n\t// Copied from:\r\n\t// http://stackoverflow.com/questions/5598743/finding-elements-position-relative-to-the-document\r\n\r\n\tconst onScreenCoordinates = element.getBoundingClientRect()\r\n\r\n\tconst documentLeftBorderWidth = document.clientLeft || document.body.clientLeft || 0\r\n\tconst documentTopBorderWidth  = document.clientTop || document.body.clientTop || 0\r\n\r\n\t// `window.scrollY` and `window.scrollX` aren't supported in Internet Explorer.\r\n\tconst scrollY = window.pageYOffset\r\n\tconst scrollX = window.pageXOffset\r\n\r\n\tconst top  = onScreenCoordinates.top + scrollY - documentTopBorderWidth\r\n\tconst left = onScreenCoordinates.left + scrollX - documentLeftBorderWidth\r\n\r\n\treturn {\r\n\t\ttop,\r\n\t\tleft,\r\n\t\twidth: onScreenCoordinates.width,\r\n\t\theight: onScreenCoordinates.height\r\n\t}\r\n}"]},"metadata":{},"sourceType":"script"}